# Final Project: –ü–æ–≤–Ω–∞ DevOps —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ AWS

–§—ñ–Ω–∞–ª—å–Ω–∏–π –ø—Ä–æ—î–∫—Ç –æ–±'—î–¥–Ω—É—î –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ DevOps –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Terraform, Kubernetes, CI/CD —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         AWS Cloud                            ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ     VPC      ‚îÇ    ‚îÇ     ECR      ‚îÇ    ‚îÇ     RDS      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Network)   ‚îÇ    ‚îÇ  (Registry)  ‚îÇ    ‚îÇ  (Database)  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ         ‚îÇ                    ‚îÇ                    ‚îÇ          ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                              ‚îÇ                                ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ
‚îÇ                    ‚îÇ   EKS Cluster     ‚îÇ                     ‚îÇ
‚îÇ                    ‚îÇ  (Kubernetes)     ‚îÇ                     ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ
‚îÇ                               ‚îÇ                                ‚îÇ
‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ         ‚îÇ                     ‚îÇ                     ‚îÇ         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ  Jenkins    ‚îÇ    ‚îÇ   Argo CD       ‚îÇ   ‚îÇ  Monitoring   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  (CI/CD)    ‚îÇ    ‚îÇ  (GitOps)       ‚îÇ   ‚îÇ Prometheus +  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ    ‚îÇ                 ‚îÇ   ‚îÇ   Grafana     ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ         ‚îÇ                    ‚îÇ                               ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ                              ‚îÇ                                 ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ                    ‚îÇ  Django App       ‚îÇ                       ‚îÇ
‚îÇ                    ‚îÇ  (Deployment)     ‚îÇ                       ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
final-project/
‚îú‚îÄ‚îÄ main.tf                  # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ backend.tf               # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É –¥–ª—è —Å—Ç–µ–π—Ç—ñ–≤ (S3 + DynamoDB)
‚îú‚îÄ‚îÄ variables.tf              # –ó–º—ñ–Ω–Ω—ñ Terraform
‚îú‚îÄ‚îÄ outputs.tf               # –ó–∞–≥–∞–ª—å–Ω—ñ –≤–∏–≤–æ–¥–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤
‚îÇ
‚îú‚îÄ‚îÄ modules/                 # –ö–∞—Ç–∞–ª–æ–≥ –∑ —É—Å—ñ–º–∞ –º–æ–¥—É–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ s3-backend/          # –ú–æ–¥—É–ª—å –¥–ª—è S3 —Ç–∞ DynamoDB
‚îÇ   ‚îú‚îÄ‚îÄ vpc/                 # –ú–æ–¥—É–ª—å –¥–ª—è VPC
‚îÇ   ‚îú‚îÄ‚îÄ ecr/                 # –ú–æ–¥—É–ª—å –¥–ª—è ECR
‚îÇ   ‚îú‚îÄ‚îÄ eks/                 # –ú–æ–¥—É–ª—å –¥–ª—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ eks.tf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ aws_ebs_csi_driver.tf
‚îÇ   ‚îú‚îÄ‚îÄ rds/                 # –ú–æ–¥—É–ª—å –¥–ª—è RDS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rds.tf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aurora.tf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared.tf
‚îÇ   ‚îú‚îÄ‚îÄ jenkins/             # –ú–æ–¥—É–ª—å –¥–ª—è Helm-—É—Å—Ç–∞–Ω–æ–≤–∫–∏ Jenkins
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jenkins.tf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers.tf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ values.yaml
‚îÇ   ‚îú‚îÄ‚îÄ argo_cd/             # –ú–æ–¥—É–ª—å –¥–ª—è Helm-—É—Å—Ç–∞–Ω–æ–≤–∫–∏ Argo CD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ argo_cd.tf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers.tf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ values.yaml
‚îÇ   ‚îî‚îÄ‚îÄ monitoring/          # –ú–æ–¥—É–ª—å –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É (Prometheus + Grafana)
‚îÇ       ‚îú‚îÄ‚îÄ monitoring.tf
‚îÇ       ‚îî‚îÄ‚îÄ providers.tf
‚îÇ
‚îú‚îÄ‚îÄ charts/
‚îÇ   ‚îî‚îÄ‚îÄ django-app/           # Helm chart –¥–ª—è Django –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
‚îÇ       ‚îú‚îÄ‚îÄ templates/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ service.yaml
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ configmap.yaml
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ hpa.yaml
‚îÇ       ‚îú‚îÄ‚îÄ Chart.yaml
‚îÇ       ‚îî‚îÄ‚îÄ values.yaml
‚îÇ
‚îî‚îÄ‚îÄ Django/                  # Django –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
    ‚îú‚îÄ‚îÄ app/                 # –ö–æ–¥ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îú‚îÄ‚îÄ docker-compose.yaml
    ‚îî‚îÄ‚îÄ Jenkinsfile
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. AWS CLI –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º–∏ credentials
2. Terraform >= 1.2.0
3. kubectl –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
4. Helm 3 –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
5. Docker –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
cd final-project

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform
terraform init

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
terraform validate
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `terraform.tfvars`:

```hcl
region = "us-east-1"

# Database configuration
use_aurora = false
db_engine = "postgres"
db_engine_version = "15.4"
db_instance_class = "db.t3.medium"
db_password = "YourSecurePassword123!"

# Git repository (optional, for CI/CD)
git_repository_url = "https://github.com/your-username/your-repo.git"
git_branch = "main"
```

### 3. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–Ω—É
terraform plan

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω (—Å—Ç–≤–æ—Ä—é—î –≤—Å—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É)
terraform apply
```

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å:
- VPC –∑ –ø—É–±–ª—ñ—á–Ω–∏–º–∏ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø—ñ–¥–º–µ—Ä–µ–∂–∞–º–∏
- ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–ª—è Docker –æ–±—Ä–∞–∑—ñ–≤
- EKS –∫–ª–∞—Å—Ç–µ—Ä –∑ node group
- RDS –±–∞–∑—É –¥–∞–Ω–∏—Ö
- Jenkins –¥–ª—è CI/CD
- Argo CD –¥–ª—è GitOps
- Prometheus —Ç–∞ Grafana –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è kubectl

```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑ outputs
terraform output kubectl_config_command

# –ê–±–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤—Ä—É—á–Ω—É
aws eks update-kubeconfig --region us-east-1 --name final-project-eks-cluster

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
kubectl get nodes
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Ä–µ—Å—É—Ä—Å—ñ–≤

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Jenkins
kubectl get all -n jenkins

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Argo CD
kubectl get all -n argocd

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
kubectl get all -n monitoring

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Django –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
kubectl get all -n default
```

### –î–æ—Å—Ç—É–ø –¥–æ Jenkins

```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
terraform output jenkins_admin_password

# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ port-forward
kubectl port-forward svc/jenkins 8080:8080 -n jenkins
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8080`
- Username: `admin`
- Password: (–∑–Ω–∞—á–µ–Ω–Ω—è –∑ `jenkins_admin_password`)

### –î–æ—Å—Ç—É–ø –¥–æ Argo CD

```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
terraform output argo_cd_admin_password

# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ port-forward
kubectl port-forward svc/argocd-server 8081:443 -n argocd
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `https://localhost:8081`
- Username: `admin`
- Password: (–∑–Ω–∞—á–µ–Ω–Ω—è –∑ `argo_cd_admin_password`)

### –î–æ—Å—Ç—É–ø –¥–æ Grafana

```bash
# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ port-forward
kubectl port-forward svc/kube-prometheus-stack-grafana 3000:80 -n monitoring
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:3000`
- Username: `admin`
- Password: `admin` (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)

### –î–æ—Å—Ç—É–ø –¥–æ Prometheus

```bash
# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ port-forward
kubectl port-forward svc/kube-prometheus-stack-prometheus 9090:80 -n monitoring
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:9090`

## üîÑ CI/CD –ü—Ä–æ—Ü–µ—Å

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Jenkins Pipeline

1. –£ Jenkins –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **New Item** ‚Üí **Pipeline**
2. –ù–∞–∑–≤–∞: `django-app-pipeline`
3. –£ —Ä–æ–∑–¥—ñ–ª—ñ **Pipeline**:
   - Definition: **Pipeline script from SCM**
   - SCM: **Git**
   - Repository URL: URL –≤–∞—à–æ–≥–æ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
   - Branch: `*/main`
   - Script Path: `Django/Jenkinsfile`

4. –î–æ–¥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `ECR_REPOSITORY`:
   ```bash
   terraform output -raw ecr_repository_url
   ```

### –ü—Ä–æ—Ü–µ—Å CI/CD

1. **Jenkins Pipeline** –≤–∏–∫–æ–Ω—É—î:
   - Checkout –∫–æ–¥—É –∑ Git
   - –ó–±—ñ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑—É —á–µ—Ä–µ–∑ Kaniko
   - –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –æ–±—Ä–∞–∑—É –¥–æ ECR
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è Helm chart –∑ –Ω–æ–≤–∏–º —Ç–µ–≥–æ–º
   - Push –∑–º—ñ–Ω –¥–æ Git

2. **Argo CD** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
   - –í—ñ–¥—Å—Ç–µ–∂—É—î –∑–º—ñ–Ω–∏ –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
   - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∑–º—ñ–Ω–∏ –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä
   - –û–Ω–æ–≤–ª—é—î –ø–æ–¥—ñ –∑ –Ω–æ–≤–∏–º –æ–±—Ä–∞–∑–æ–º

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### Grafana Dashboards

Grafana –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ dashboards:
- Kubernetes Cluster Monitoring
- Node Exporter Full
- Prometheus Stats

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Grafana: `http://localhost:3000`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Dashboards**
3. –í–∏–±–µ—Ä—ñ—Ç—å dashboard –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –º–µ—Ç—Ä–∏–∫

### Prometheus Queries

–£ Prometheus –¥–æ—Å—Ç—É–ø–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏:
- `kubernetes_pod_status_phase` - —Å—Ç–∞—Ç—É—Å –ø–æ–¥—ñ–≤
- `kubernetes_node_status_condition` - —Å—Ç–∞–Ω –Ω–æ–¥
- `container_cpu_usage_seconds_total` - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è CPU
- `container_memory_usage_bytes` - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ RDS

```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ endpoint
terraform output rds_endpoint

# –î–ª—è Aurora
terraform output aurora_cluster_endpoint
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è ConfigMap –¥–ª—è Django

–û–Ω–æ–≤—ñ—Ç—å `charts/django-app/values.yaml`:

```yaml
configMap:
  data:
    DATABASE_HOST: "<rds-endpoint>"
    DATABASE_NAME: "mydb"
    DATABASE_USER: "admin"
    DATABASE_PASSWORD: "<password>"
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–∞ —Ç–∏–ø—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–£ `terraform.tfvars`:

```hcl
# –î–ª—è –∑–≤–∏—á–∞–π–Ω–æ—ó RDS
use_aurora = false

# –î–ª—è Aurora –∫–ª–∞—Å—Ç–µ—Ä–∞
use_aurora = true
aurora_cluster_instances = 2
```

### –ó–º—ñ–Ω–∞ —Ä–æ–∑–º—ñ—Ä—É –∫–ª–∞—Å—Ç–µ—Ä–∞

```hcl
node_group_desired_size = 3
node_group_min_size = 2
node_group_max_size = 5
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è HPA

–£ `charts/django-app/values.yaml`:

```yaml
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 6
  targetCPUUtilizationPercentage: 70
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Django

```bash
cd Django

# –ó–∞–ø—É—Å–∫ –∑ docker-compose
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
curl http://localhost:8000
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ Kubernetes

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–¥—ñ–≤
kubectl get pods -n default

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤
kubectl logs -f deployment/django-app -n default

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤—ñ—Å—É
kubectl get svc django-app -n default
```

## üêõ Troubleshooting

### Jenkins –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ ServiceAccount
kubectl get sa jenkins -n jenkins

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ IAM —Ä–æ–ª—å
kubectl describe sa jenkins -n jenkins
```

### Argo CD –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∑–º—ñ–Ω–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å Application
kubectl get application django-app -n argocd -o yaml

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
kubectl logs -n argocd -l app.kubernetes.io/name=argocd-server --tail=50
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–¥—ñ Prometheus
kubectl get pods -n monitoring

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ ServiceMonitor
kubectl get servicemonitor -n monitoring
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Security Group
aws ec2 describe-security-groups --filters "Name=tag:Name,Values=*db*sg"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
kubectl run -it --rm debug --image=postgres:15 --restart=Never -- psql -h <rds-endpoint> -U admin -d mydb
```

## üí∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∞–º–∏

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –ü—ñ—Å–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–æ—î–∫—Ç—É –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏–¥–∞–ª—ñ—Ç—å —Ä–µ—Å—É—Ä—Å–∏!

```bash
# –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—î—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
terraform destroy
```

**–£–≤–∞–≥–∞**: –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞–∫–æ–∂ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è S3-–±–∞–∫–µ—Ç —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—è, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è Terraform —Å—Ç–µ–π—Ç—É. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–µ–π—Ç, –≤–∏–¥–∞–ª—ñ—Ç—å —Ç—ñ–ª—å–∫–∏ –æ–∫—Ä–µ–º—ñ —Ä–µ—Å—É—Ä—Å–∏ –∞–±–æ –∑–º—ñ–Ω—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è backend –ø–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º.

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [AWS EKS Documentation](https://docs.aws.amazon.com/eks/)
- [Jenkins Kubernetes Plugin](https://plugins.jenkins.io/kubernetes/)
- [Argo CD Documentation](https://argo-cd.readthedocs.io/)
- [Prometheus Operator](https://github.com/prometheus-operator/prometheus-operator)
- [Grafana Dashboards](https://grafana.com/grafana/dashboards/)

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è

–ü—Ä–æ—î–∫—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–∏–º, —è–∫—â–æ:

- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∑ –∫–æ—Ä–µ–∫—Ç–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –±–µ–∑–ø–µ–∫—É —á–µ—Ä–µ–∑ VPC, IAM, Security Groups
- ‚úÖ –†–æ–∑–≥–æ—Ä–Ω—É—Ç–æ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤ AWS –∑ CI/CD
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ –º–æ–¥—É–ª—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º best practices
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è IRSA (IAM Roles for Service Accounts) –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ AWS —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –∑–±–æ—Ä–æ–º –º–µ—Ç—Ä–∏–∫
- CI/CD pipeline –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π
- Helm charts –≥–æ—Ç–æ–≤—ñ –¥–æ production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

## üéì –í–∏—Å–Ω–æ–≤–æ–∫

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ–≤–Ω—É DevOps –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—é –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å—É—á–∞—Å–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫. –í—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ —Ç–∞ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

